<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 Manager - Mi Escuder铆a</title>
    <link rel="stylesheet" href="modern.css">
</head>
<body>

    <nav class="navbar">
        <div class="nav-brand"><strong>F1 MANAGER</strong></div>
        <ul class="nav-links">
            <li><a href="home.html">Inicio</a></li>
            <li><a href="equipos.html">Equipos</a></li>
            <li><a href="calendario.html">Calendario</a></li>
            <li><a href="clasificacion.html">Clasificaci贸n</a></li>
            <li><a href="pilotos.html">Media</a></li>
            <li id="nav-dashboard" style="display: none;"><a href="dashboard.html" class="active>Mi Escuder铆a</a></li>
            <li id="nav-admin" style="display: none;"><a href="admin.html">Panel Admin</a></li>
        </ul>
        <div class="nav-auth">
            <button id="btnLogout" class="btn-solid">Cerrar Sesi贸n</button>
        </div>
    </nav>

    <div class="container dashboard-layout">
        
        <div class="dashboard-main">
            
            <div class="card team-overview">
                <div class="team-header-dash">
                    <div class="car-display" id="dash-car-img">
                        </div>
                    <div class="team-info-dash">
                        <h1 id="dash-team-name">Cargando Escuder铆a...</h1>
                        <div class="budget-display">
                            <span>PRESUPUESTO</span>
                            <h2 id="dash-budget">$0</h2>
                        </div>
                        <a href="reglas.html" class="btn btn-outline" style="margin-top: 15px; display: inline-block;"> Ver Reglas</a>
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-box"><span>Carreras</span><strong id="ts-carreras">0</strong></div>
                    <div class="stat-box"><span>Victorias</span><strong id="ts-victorias">0</strong></div>
                    <div class="stat-box"><span>Puntos</span><strong id="ts-puntos">0</strong></div>
                    <div class="stat-box"><span>Podios</span><strong id="ts-podios">0</strong></div>
                    <div class="stat-box"><span>Poles</span><strong id="ts-poles">0</strong></div>
                    <div class="stat-box"><span>DNFs</span><strong id="ts-dnfs">0</strong></div>
                    <div class="stat-box"><span>Mundiales</span><strong id="ts-mundiales">0</strong></div>
                </div>
            </div>

            <h3 class="section-title">Alineaci贸n de Pilotos</h3>
            <div class="drivers-dashboard" id="dash-drivers-container">
                </div>
        </div>

        <div class="dashboard-sidebar">
            
            <div class="card notifications-panel">
                <h3>Buz贸n de Avisos</h3>
                <div class="messages-list" id="dash-messages">
                    <p class="text-muted">Buscando mensajes de la FIA o Admin...</p>
                </div>
            </div>

            <div class="card engineering-panel">
                <h3>I+D y Mejoras</h3>
                <p class="text-muted" style="font-size: 0.85rem;">Las mejoras se pagar谩n al instante y el Admin decidir谩 el resultado.</p>
                
                <div class="upgrade-action">
                    <div class="upgrade-info">
                        <strong>Chasis y Aerodin谩mica</strong>
                        <span>Costo: $5,000,000</span>
                    </div>
                    <button class="btn-outline btn-upgrade" data-type="aero" data-cost="5000000">Desarrollar</button>
                </div>
                
                <div class="upgrade-action">
                    <div class="upgrade-info">
                        <strong>Unidad de Potencia (Motor)</strong>
                        <span>Costo: $7,500,000</span>
                    </div>
                    <button class="btn-outline btn-upgrade" data-type="motor" data-cost="7500000">Desarrollar</button>
                </div>

                <hr style="border-color: var(--border-color); margin: 15px 0;">

                <div class="research-action">
                    <strong>Investigaci贸n de Rivales</strong>
                    <span id="research-count" style="font-size: 0.8rem; color: var(--text-secondary);">Usos restantes: 2</span>
                    
                    <label style="margin-top: 10px; display: block;">Tipo de Investigaci贸n:</label>
                    <select id="research-target" style="margin-top: 5px;">
                        <option value="">-- Seleccionar --</option>
                        <option value="piloto">Piloto Rival (Ritmo/Agresividad)</option>
                        <option value="mejora">ltima Mejora Rival</option>
                        <option value="elemento">Nivel de Elemento Rival</option>
                    </select>

                    <label id="research-rival-label" style="margin-top: 10px; display: none; display: block;">Rival a Investigar:</label>
                    <select id="research-rival" style="margin-top: 5px; display: none;">
                        <option value="">-- Cargando --</option>
                    </select>
                    
                    <button class="btn-solid" id="btn-research" style="width: 100%; margin-top: 10px;">Iniciar Investigaci贸n</button>
                </div>
            </div>

            <div class="card transfers-panel">
                <h3>Mercado de Fichajes</h3>
                <label>Piloto Objetivo</label>
                <input type="text" id="transfer-target" placeholder="Nombre del piloto rival...">
                <label>Oferta Salarial ($)</label>
                <input type="number" id="transfer-offer" placeholder="Ej: 15000000">
                <button class="btn-outline" id="btn-transfer" style="width: 100%;">Enviar Oferta Formal</button>
            </div>

        </div>
    </div>

    <script type="module" src="dashboard.js"></script>
</body>
</html>